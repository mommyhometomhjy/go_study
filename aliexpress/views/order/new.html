{{define "order/new"}}
{{template "layout/header" .}}

<body>
    <div class="container-fluid">
        {{template "layout/nav"}}
        <div class="row">
            <div class="col-md-2">
                {{template "order/_aside"}}
            </div>
            <div class="col-md-10">
                <div class="row">

                    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal"
                        data-target="#importOrderModal">
                        批量导入
                    </button>
                </div>
                <div class="row">
                    <form class="form-horizontal" action="/order" method="POST">

                        <div class="form-group">
                            <label for="OrderNo" class="col-sm-2 control-label">订单号:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderNo">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="OrderBuyer" class="col-sm-2 control-label">买家网名:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderBuyer">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="OrderReceiverName" class="col-sm-2 control-label">收件人:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderReceiverName">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="OrderReceiverCountry" class="col-sm-2 control-label">国家:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderReceiverCountry">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="OrderReceiverProvince" class="col-sm-2 control-label">州/省:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderReceiverProvince">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="OrderReceiverCity" class="col-sm-2 control-label">城市:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderReceiverCity">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="OrderReceiverAddress" class="col-sm-2 control-label">地址:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderReceiverAddress">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="OrderReceiverPostCode" class="col-sm-2 control-label">邮编:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderReceiverPostCode">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="OrderReceiverTelephone" class="col-sm-2 control-label">电话:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderReceiverTelephone">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="OrderReceiverMobilePhone" class="col-sm-2 control-label">手机:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderReceiverMobilePhone">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="OrderShippingMethod" class="col-sm-2 control-label">物流方式:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderShippingMethod">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="OrderShippingNo" class="col-sm-2 control-label">物流单号:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderShippingNo">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="OrderMoney" class="col-sm-2 control-label">订单金额:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="OrderMoney">
                            </div>
                        </div>

                        <div class="form-group" id="orderdetailss">
                            <div class="row">
                                <div class="col-sm-offset-2 col-sm-2">
                                    <label class="control-label">商品:</label>
                                </div>

                                <div class="col-sm-4 text-right">
                                    <a class="btn btn-default " id="orderdetailsaddbutton">新增</a>
                                </div>
                            </div>
                            <hr />
                            <div class="orderdetail row">
                                <div class="col-sm-offset-2 col-sm-3">
                                    <input type="text" class="form-control" name="GoodsNo" placeholder="sku">
                                </div>
                                <div class="col-sm-2">
                                    <input type="number" class="form-control" name="Number" placeholder="数量">
                                </div>
                                <div class="col-sm-1">
                                    <a class="btn btn-default col-sm-offset-8 orderdetailsdeletebutton">删除</a>
                                </div>

                            </div>
                        </div>
                        <script>
                            $(document).ready(function () {
                                $("#orderdetailsaddbutton").click(function () {
                                    $("#orderdetailss").append(`
                                    <div class="orderdetail row">
                                        <div class="col-sm-offset-2 col-sm-3">
                                            <input type="text" class="form-control" name="GoodsNo" placeholder="sku">
                                        </div>
                                        <div class="col-sm-2">
                                            <input type="number" class="form-control" name="Number" placeholder="数量">
                                        </div>
                                        <div class="col-sm-1">
                                            <a class="btn btn-default col-sm-offset-8 orderdetailsdeletebutton">删除</a>
                                        </div>
                                        
                                    </div>
                                    `)
                                    $(".orderdetailsdeletebutton").click(function () {
                                        $(this).parent().parent().remove()
                                    })
                                })

                                $(".orderdetailsdeletebutton").click(function () {
                                    $(this).parent().parent().remove()
                                })
                            })
                        </script>

                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <button type="submit" class="btn btn-default">保存</button>
                                <button type="reset" class="btn btn-default">撤销</button>
                            </div>
                        </div>
                    </form>
                </div>

            </div>
        </div>

    </div>

    {{template "order/_importOrder"}}
</body>

{{template "layout/footer"}}
{{end}}